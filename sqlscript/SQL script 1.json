{
	"name": "SQL script 1",
	"properties": {
		"content": {
			"query": "IF NOT EXISTS (SELECT * FROM sys.external_file_formats WHERE name = 'SynapseParquetFormat') \n\tCREATE EXTERNAL FILE FORMAT [SynapseParquetFormat] \n\tWITH ( FORMAT_TYPE = PARQUET)\nGO\n\nIF NOT EXISTS (SELECT * FROM sys.external_data_sources WHERE name = 'users_2022dsidatalake_dfs_core_windows_net') \n\tCREATE EXTERNAL DATA SOURCE [users_2022dsidatalake_dfs_core_windows_net] \n\tWITH (\n\t\tLOCATION = 'abfss://users@2022dsidatalake.dfs.core.windows.net' \n\t)\nGO\n\nDROP EXTERNAL TABLE loaded_cpature_twitter_10M \n\nCREATE EXTERNAL TABLE loaded_capture_twitter_10M (\n\t[ubix_received_ts] nvarchar(4000),\n\t[id] nvarchar(4000),\n\t[text] nvarchar(4000),\n\t[created_at] nvarchar(4000),\n\t[source] nvarchar(4000),\n\t[lang] nvarchar(4000),\n\t[retweeted_status_id] nvarchar(4000),\n\t[truncated] nvarchar(4000),\n\t[favorited] nvarchar(4000),\n\t[retweeted] nvarchar(4000),\n\t[possibly_sensitive] nvarchar(4000),\n\t[favorite_count] nvarchar(4000),\n\t[retweet_count] nvarchar(4000),\n\t[in_reply_to_status_id] nvarchar(4000),\n\t[in_reply_to_user_id] nvarchar(4000),\n\t[in_reply_to_screen_name] nvarchar(4000),\n\t[latitude] nvarchar(4000),\n\t[longitude] nvarchar(4000),\n\t[user_id] nvarchar(4000),\n\t[user_name] nvarchar(4000),\n\t[user_screen_name] nvarchar(4000),\n\t[user_description] nvarchar(4000),\n\t[user_lang] nvarchar(4000),\n\t[user_location] nvarchar(4000),\n\t[user_geo_enabled] nvarchar(4000),\n\t[user_followers_count] nvarchar(4000),\n\t[user_friends_count] nvarchar(4000),\n\t[user_favorites_count] nvarchar(4000),\n\t[user_statuses_count] nvarchar(4000),\n\t[user_listed_count] nvarchar(4000),\n\t[user_created_at] nvarchar(4000),\n\t[user_time_zone] nvarchar(4000),\n\t[ubix_day] nvarchar(4000),\n\t[ubix_hour] nvarchar(4000),\n\t[ubix_minute] nvarchar(4000)\n\t)\n\tWITH (\n\tLOCATION = 'synapse/workspaces/2022-dsi-synapse-ws/warehouse/model_sample/loaded_capture_twitter_10M_parquet/**',\n\tDATA_SOURCE = [users_2022dsidatalake_dfs_core_windows_net],\n\tFILE_FORMAT = [SynapseParquetFormat]\n\t)\nGO\n\n\nSELECT TOP 100 * FROM dbo.loaded_capture_twitter_10M\nGO\n\n\n\nrename OBJECT sample.dbo.loaded_capture_twitter_10M COLUMN ubix_received_ts TO [received_ts];\nrename OBJECT sample.dbo.loaded_capture_twitter_10M COLUMN ubix_day TO [day];\nrename OBJECT sample.dbo.loaded_capture_twitter_10M COLUMN ubix_hour TO [hour];\nrename OBJECT sample.dbo.loaded_capture_twitter_10M COLUMN ubix_minute TO [minute];\n",
			"metadata": {
				"language": "sql"
			},
			"currentConnection": {
				"databaseName": "sample",
				"poolName": "Built-in"
			},
			"resultLimit": 5000
		},
		"type": "SqlQuery"
	}
}